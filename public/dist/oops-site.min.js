/*! oops-site 2020-11-27 */

!function(){"use strict";var e=angular.module("app",["ngStorage","ui.router","ngResource","ui.bootstrap","oc.lazyLoad","ngSanitize","ngAnimate","ngMessages","ngFileUpload","ui.bootstrap.contextMenu","angular-jwt","otpInputDirective","angularjs-dropdown-multiselect","dndLists","mwl.calendar"]);function t(e,t,o,r,a){t.otherwise("home"),e.state("home",{url:"/home",templateUrl:"app/modules/client/home.html",controller:"homeController",controllerAs:"homeController"}).state("verify-phone",{url:"/verify-phone",templateUrl:"app/modules/client/verify-phone.html",controller:"phoneVerifyController",controllerAs:"phoneVerifyController",data:{unAuth:!0}}).state("login",{url:"/login",templateUrl:"app/modules/client/login.html",controller:"loginController",controllerAs:"loginController",data:{unAuth:!0}}).state("register",{url:"/register",templateUrl:"app/modules/client/register.html",controller:"registerController",controllerAs:"registerController",data:{unAuth:!0}}).state("verify-email",{url:"/verify-email",templateUrl:"app/modules/client/verify-email.html",controller:"verifyEmailController",controllerAs:"verifyEmailController",data:{unAuth:!0}}).state("verifying-email",{url:"/verifying-email/{code}",templateUrl:"app/modules/client/verifying-email.html",controller:"verifyingEmailController",controllerAs:"verifyingEmailController",data:{unAuth:!0}}).state("diary",{url:"/diary",templateUrl:"app/modules/client/diary.html",controller:"diaryController",controllerAs:"diaryController"})}e.config(t),t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$provide","$localStorageProvider"],e.factory("uiHelpers",function(){return{uiHandleMain:function(){var e=jQuery("#content-container"),t=jQuery(window).height(),o=jQuery("#header-navbar").outerHeight(),r=jQuery("#page-footer").outerHeight();jQuery("#page-container").hasClass("header-navbar-fixed")?e.css("min-height",t-r):e.css("min-height",t-(o+r))},uiHandleHeader:function(){var e=jQuery("#page-container");e.hasClass("header-navbar-fixed")&&e.hasClass("header-navbar-transparent")&&jQuery(window).on("scroll",function(){jQuery(this).scrollTop()>20?e.addClass("header-navbar-scroll"):e.removeClass("header-navbar-scroll")})},uiHandleSidebar:function(){var e=jQuery("#nav-sidebar");"true"==e.attr("show")?e.attr("show","false"):e.attr("show","true")},uiLoader:function(e){var t=jQuery("body"),o=jQuery("#page-loader");"show"===e?o.length?o.fadeIn(250):t.prepend('<div id="page-loader"></div>'):"hide"===e&&o.length&&o.fadeOut(250)},uiBlocks:function(e,t,o){var r="si si-size-fullscreen";if("init"===t)switch(o.data("action")){case"fullscreen_toggle":o.html('<i class="'+(o.closest(".block").hasClass("block-opt-fullscreen")?"si si-size-actual":r)+'"></i>');break;case"content_toggle":o.html('<i class="'+(o.closest(".block").hasClass("block-opt-hidden")?"icon-arrow-down32":"icon-arrow-up32")+'"></i>');break;default:return!1}else{var a=e instanceof jQuery?e:jQuery(e);if(a.length){var n=jQuery('[data-js-block-option][data-action="fullscreen_toggle"]',a),i=jQuery('[data-js-block-option][data-action="content_toggle"]',a);switch(t){case"fullscreen_toggle":a.toggleClass("block-opt-fullscreen"),a.hasClass("block-opt-fullscreen")?jQuery(a).scrollLock("enable"):jQuery(a).scrollLock("disable"),n.length&&(a.hasClass("block-opt-fullscreen")?jQuery("i",n).removeClass(r).addClass("si si-size-actual"):jQuery("i",n).removeClass("si si-size-actual").addClass(r));break;case"fullscreen_on":a.addClass("block-opt-fullscreen"),jQuery(a).scrollLock("enable"),n.length&&jQuery("i",n).removeClass(r).addClass("si si-size-actual");break;case"fullscreen_off":a.removeClass("block-opt-fullscreen"),jQuery(a).scrollLock("disable"),n.length&&jQuery("i",n).removeClass("si si-size-actual").addClass(r);break;case"content_toggle":a.toggleClass("block-opt-hidden"),i.length&&(a.hasClass("block-opt-hidden")?jQuery("i",i).removeClass("icon-arrow-up32").addClass("icon-arrow-down32"):jQuery("i",i).removeClass("icon-arrow-down32").addClass("icon-arrow-up32"));break;case"content_hide":a.addClass("block-opt-hidden"),i.length&&jQuery("i",i).removeClass("icon-arrow-up32").addClass("icon-arrow-down32");break;case"content_show":a.removeClass("block-opt-hidden"),i.length&&jQuery("i",i).removeClass("icon-arrow-down32").addClass("icon-arrow-up32");break;case"refresh_toggle":a.toggleClass("block-opt-refresh"),jQuery('[data-js-block-option][data-action="refresh_toggle"][data-action-mode="demo"]',a).length&&setTimeout(function(){a.removeClass("block-opt-refresh")},2e3);break;case"state_loading":a.addClass("block-opt-refresh");break;case"state_normal":a.removeClass("block-opt-refresh");break;case"close":a.hide();break;case"open":a.show();break;default:return!1}}}}}}),e.controller("AppCtrl",["$scope","$localStorage","$rootScope","$stateParams","$window","$transitions",function(e,t,o,r,a,n){e.isNavCollapsed=!0,e.isCollapsed=!1,e.isCollapsedHorizontal=!1,n.onSuccess({},()=>{document.documentElement.scrollTop=0,window.setTimeout(function(){document.documentElement.scrollTop=0},10)}),e.webapp={version:"3.1",localStorage:!1,settings:{headerFixed:!0}},e.webapp.localStorage&&(e.webapp.localStorage&&(angular.isDefined(t.webappSettings)?e.webapp.settings=t.webappSettings:t.webappSettings=e.webapp.settings),e.$watch("webapp.settings",function(){t.webappSettings=e.webapp.settings},!0)),e.$on("$viewContentLoaded",function(){e.helpers.uiLoader("hide"),e.helpers.uiHandleMain()})}]),e.run(function(e,t){var o;e.helpers=t,jQuery(window).on("resize orientationchange",function(){clearTimeout(o),o=setTimeout(function(){e.helpers.uiHandleMain()},150)})})}(),function(){"use strict";angular.module("app").constant("AuthEvents",{loginSuccess:"event:auth-login-success",loginFailed:"event:auth-login-falied",loginRequired:"event:auth-login-required",tokenExpired:"event:auth-token-expired",loginUnverified:"event:auth-unverified"})}(),function(){"use strict";function e(e,t,o,r,a,n){let i={emailVerified:!1,phoneVerified:!1},l=!1,c="";const s="http://localhost:5000";return{login:function(a){let d=t.post(s+"/login",a);return d.then(t=>{l=!0,r.access_token=t.data.access_token,r.refresh_token=t.data.refresh_token,e.$broadcast(o.loginSuccess),i.phoneVerified=!0,i.emailVerified=!0}).catch(t=>{i.username=a.username,c=a.password,t.data.msg&&(-1!=t.data.msg.indexOf("Phone")?(i.emailVerified=!0,i.email=t.data.email,i.phone=t.data.phone,l=!0,n.go("verify-phone")):-1!=t.data.msg.indexOf("Email")&&(i.email=t.data.email,i.phone=t.data.phone,l=!0,n.go("verify-email")),e.$broadcast(o.loginUnverified)),e.$broadcast(o.loginFailed)}),d},register:function(e){let o=t.post(s+"/register",e);return o.then(t=>{t.data&&t.data.msg&&-1==t.data.msg.indexOf("error")&&this.login({username:e.username,password:e.password}).then(e=>{n.go("home")})}),o},sendVerificationEmail:function(){return t.get(s+"/send_email/"+i.email)},verifyEmail:function(e){let o=t.get(s+"/email_confirm/"+e);return o.then(e=>{i.emailVerified=!0,n.go("verify-phone")}),o},verifyPhone:function(){let e=t.get(s+"/phone_confirm/"+i.phone);return e.then(e=>{this.login({username:i.username,password:c}).then(e=>{n.go("home")})}),e},checkPreviousLogin:function(){let e=r.access_token&&r.refresh_token&&!this.isTokenExpired();return l=e,e&&(i.emailVerified=!0,i.phoneVerified=!0),e},checkUniqueUsername:function(e){return t.get(s+"/check_username/"+e)},isLoggedIn:function(){return l},getUserDetails:function(){return JSON.parse(JSON.stringify(i))},isTokenExpired:function(){return!r.access_token||!a.decodeToken(r.access_token).fresh},isUserVerified:function(){return l&&!!i.phoneVerified&&!!i.emailVerified},getRedirectStage:function(){return l?i.emailVerified?i.emailVerified?void 0:"verify-phone":"verify-email":"login"},getAccessToken:function(){return r.access_token},logout:function(){t.defaults.headers.common.Authorization="Bearer "+this.getAccessToken();let e=t.post(s+"/logout");return e.then(e=>{r.$reset(),l=!1,i.emailVerified=!1,i.phoneVerified=!1,i.username="",i.email="",i.phone="",i.password="",n.go("login")}),e}}}angular.module("app").factory("Auth",e),e.$inject=["$rootScope","$http","AuthEvents","$localStorage","jwtHelper","$state"]}(),function(){"use strict";angular.element(document).ready(()=>{function e(e,t,o){t.checkPreviousLogin(),e.Auth=t,o.onBefore({},e=>t.isUserVerified()&&e.to().data&&e.to().data.unAuth?e.router.stateService.target("home"):t.isUserVerified()||e.to().data&&e.to().data.unAuth?t.isLoggedIn()||"login"==e.to().name||"register"==e.to().name?"verify-email"==e.to().name&&t.getUserDetails().emailVerified?e.router.stateService.target("verify-phone"):"verify-phone"==e.to().name&&t.getUserDetails().phoneVerified?e.router.stateService.target("home"):void 0:e.router.stateService.target("login"):e.router.stateService.target(t.getRedirectStage()))}angular.module("app").run(e),e.$inject=["$rootScope","Auth","$transitions"],angular.bootstrap(document,["app"]),document.documentElement.scrollTop=0})}(),function(){"use strict";function e(e,t){let o=this;o.cardOptions=e.cardOptions,o.cardData=e.cardData,o.groupInfo=e.groupData,o.expand=function(){t.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/modules/client/cards/expanded/card-base.expanded.html",size:"md modal-dialog-centered",controller:"cardExpandedController",controllerAs:"cardExpandedController",resolve:{options:()=>o.cardOptions,data:()=>o.cardData,group:()=>o.groupInfo}}).result.then(e=>{o.cardOptions.onChange&&o.cardOptions.onChange(e)}).catch(e=>{})},o.contextMenuOptions=[{text:"Edit",click:function(){o.expand()}},{text:"Share",click:function(){if(o.cardOptions.getShareData){let e=o.cardOptions.getShareData();if(!e.title||!e.text)throw error("Cannot share the given object");navigator.share?navigator.share(e):console.log("Use email here")}}},{text:"Delete",click:function(e,t){angular.element(t.delegateTarget).remove()}}]}angular.module("app").controller("cardBaseController",e),e.$inject=["$scope","$uibModal"]}(),function(){"use strict";function e(e,t,o,r,a){let n=this;n.options=o,n.data=JSON.parse(JSON.stringify(r)),n.group=a,n.editingTitle=!1,n.getChanged=function(){let e={};return Object.keys(r).forEach(t=>{JSON.stringify(r[t])!==JSON.stringify(n.data[t])&&(e[t]=n.data[t])}),e},n.toggleTitleEdit=function(){n.editingTitle=!n.editingTitle,n.editingTitle&&t(()=>{angular.element("#modal-name-input").trigger("focus")})},n.save=function(){e.close(n.getChanged())},n.close=function(){e.dismiss()}}angular.module("app").controller("cardExpandedController",e),e.$inject=["$uibModalInstance","$timeout","options","data","group"]}(),function(){"use strict";function e(e,t){let o=this;o.data=t.groupData,o.groupInfo={name:o.data.name},o.contextMenuOptions=[{text:"Delete",click:function(e,t){angular.element(t.delegateTarget).remove()}}],t.$watch(function(){return o.data.name},function(e){o.groupInfo.name=e})}angular.module("app").controller("cardGroupController",e),e.$inject=["$rootScope","$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-meeting.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardMeetingController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.meeting=e.cardExpandedController.data.meeting,t.datePopup={addDate:!1},t.toggleDatePopup=function(e){t.datePopup[e]=!t.datePopup[e]}}angular.module("app").controller("cardMeetingExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-refill.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardRefillController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.data=e.cardExpandedController.data,t.refill=e.cardExpandedController.data.refill,t.refillFreq=e.cardExpandedController.data.refillFreq,t.startDate=e.cardExpandedController.data.startDate,t.datePopup={addDate:!1},t.groceriesList=[{id:1,label:"Milk"},{id:2,label:"Eggs"},{id:3,label:"Rice"},{id:4,label:"Water"},{id:5,label:"Curd"}],t.selectedModel=[],t.searchSettings={enableSearch:!0,showCheckAll:!1,showUncheckAll:!1,dynamicTitle:!1,styleActive:!0,buttonClasses:"btn-outline-light btn-transparent btn-transparent-light px-0"},t.selectTexts={buttonDefaultText:"Add/Remove items to card"},t.freqSettings={enableSearch:!1,showCheckAll:!1,showUncheckAll:!1,dynamicTitle:!0,styleActive:!0,buttonClasses:"btn-outline-light btn-transparent btn-transparent-light px-0",selectionLimit:1,smartButtonMaxItems:1},t.frequencies=[{id:"1",label:"Once"},{id:"2",label:"Daily"},{id:"3",label:"Weekly"},{id:"4",label:"Monthly"}],t.addToRefiller=function(){angular.forEach(t.selectedModel,function(e){t.refill.push({item:e.label,quantity:1}),t.selectedModel=[]})},t.remove=function(e){t.data.refill.splice(t.data.refill.indexOf(e),1)},t.toggleDatePopup=function(e){t.datePopup[e]=!t.datePopup[e]}}angular.module("app").controller("cardRefillExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-reminder.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardReminderController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.reminderList=e.cardExpandedController.data.reminderList,t.date=Date.now(),t.time=Date.now(),t.datePopup={addDate:!1},t.addReminder=function(){t.reminderList.push({date:t.date,time:t.time,remove:!1}),t.date=Date.now(),t.time=Date.now()},t.removeReminder=function(e){let o=t.reminderList;e.remove=!0,t.reminderList=[],angular.forEach(o,function(e){e.remove||t.reminderList.push(e)})},t.removeAll=function(){t.reminderList=[]},t.toggleDatePopup=function(e){t.datePopup[e]=!t.datePopup[e]}}angular.module("app").controller("cardReminderExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-stock.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardStockController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.inventory=e.cardExpandedController.data.inventory,t.groceriesList=[{id:1,label:"Milk"},{id:2,label:"Eggs"},{id:3,label:"Rice"},{id:4,label:"Water"},{id:5,label:"Curd"}],t.selectedModel=[],t.searchSettings={enableSearch:!0,showCheckAll:!1,showUncheckAll:!1,dynamicTitle:!1,styleActive:!0,buttonClasses:"btn-outline-light btn-transparent btn-transparent-light px-0"},t.selectTexts={buttonDefaultText:"Add/Remove items to card"},t.addToInventory=function(){angular.forEach(t.selectedModel,function(e){t.inventory.push({item:e.label,quantity:1}),t.selectedModel=[]})},t.remove=function(e){t.inventory.splice(t.inventory.indexOf(e),1)}}angular.module("app").controller("cardStockExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-text.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardTextController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){this.data=e.cardExpandedController.data}angular.module("app").controller("cardTextExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.todoList=e.cardExpandedController.data.list,t.task="",t.todoAdd=function(){t.todoList.push({todoText:t.task,done:!1}),t.task=""},t.remove=function(){t.todoList=t.todoList.filter(e=>!e.done)},t.removeAll=function(){t.todoList=[]},t.completedTasksPresent=function(){return t.todoList.filter(e=>e.done).length>0}}angular.module("app").controller("cardToDoListExpandedController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.options={expandedSrc:"app/modules/client/cards/expanded/card-to-do-list.expanded.html",onChange:e=>{Object.keys(e).forEach(o=>{t.data[o]=e[o]})},getShareData:()=>({title:t.data.name,text:t.data.text})},t.data=e.data,t.groupInfo=e.groupInfo}angular.module("app").controller("cardToDoListController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){let t=this;t.calendarOptions={calendarView:"month",viewDate:moment(),viewTitle:"Your Diary",events:[],selectedDate:new Date},t.dummy="Your diary entry",t.original=[{date:new Date(moment().hour(0).minutes(0).seconds(0).milliseconds(0)),heading:"Lorem",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{date:new Date(moment().hour(0).minutes(0).seconds(0).milliseconds(0).subtract(1,"day")),heading:"Ipsum dolor",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}],t.data=JSON.parse(JSON.stringify(t.original)),t.getCurrentDate=function(){return new Date(t.calendarOptions.viewDate)},t.changeDate=function(e){t.calendarOptions.selectedDate=e},t.findDateIndex=function(e,t){for(let o=0;o<e.length;o++)if(0==moment.duration(moment(e[o]).diff(moment(t))).days())return o;return-1},t.getDiaryInfo=function(){let e=t.findDateIndex(t.data.map(e=>e.date),t.calendarOptions.selectedDate);return-1!=e?e:(t.data.push({date:new Date(t.calendarOptions.selectedDate),heading:moment(t.calendarOptions.selectedDate).format("MMMM Do"),text:"Your diary entry"}),t.data.length-1)},e.onBefore({from:"diary"},e=>{for(let e=0;e<t.data.length;e++){-1==t.findDateIndex(t.original.map(e=>e.date),t.data[e].date)?console.log(`Data added for ${t.data[e].date}`):JSON.stringify(t.data[e])!=JSON.stringify(t.original[e])&&console.log(`Data changed for ${t.data[e].date}`)}})}angular.module("app").controller("diaryController",e),e.$inject=["$transitions"]}(),function(){"use strict";function e(e,t,o,r,a){e.$on("$includeContentLoaded",function(){t.helpers.uiHandleHeader()});let n=this;n.toggleSidebar=function(){t.helpers.uiHandleSidebar()},n.hideExtra=!0,n.logout=function(){t.Auth.logout()},a.onBefore({},e=>{e.to().data&&e.to().data.unAuth?n.hideExtra=!0:n.hideExtra=!1}),a.onSuccess({},e=>{e.to().data&&e.to().data.unAuth?n.hideExtra=!0:n.hideExtra=!1})}angular.module("app").controller("headerController",e),e.$inject=["$scope","$rootScope","$state","$stateParams","$transitions"]}(),function(){"use strict";function e(e){this.cardGroups=[{name:"Cards 1",cards:[{name:"Text Card",type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{name:"Text Card 2",type:"Text",text:"asdvbnq 123 sadkf aerj nmsd fwkreh zd "},{name:"Reminder Card",type:"Reminder",reminderList:[]},{name:"To do List card",type:"To-do list",list:[],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{name:"Meeting Card",type:"Meeting",meeting:{date:Date.now(),time:Date.now(),link:"https://asd.com/qwe-123-asd",documents:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}},{name:"Grocery stock Card",type:"Grocery stock",inventory:[]},{name:"Grocery refill Card",type:"Grocery refill",startDate:new Date,refill:[],refillFreq:[]}]},{name:"Cards 2",cards:[{name:"Text Card",type:"Text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}]}]}angular.module("app").controller("homeController",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t){let o=this;o.loginForm={},o.loginFailed=!1,o.submit=function(r){r&&e.Auth.login(o.loginForm).then(e=>{t.go("home")}).catch(e=>{o.loginFailed=!0})}}angular.module("app").controller("loginController",e),e.$inject=["$rootScope","$state"]}(),function(){"use strict";function e(e,t){let o=this;o.otp="",o.verifyFailed=!1,o.otpsent=!1,o.otpOptions={size:6,type:"text",onDone:e=>{},onChange:e=>{o.otp=""+e}},o.confirm,o.sendOTP=function(){firebase.auth().signInWithPhoneNumber(e.Auth.getUserDetails().phone,new firebase.auth.RecaptchaVerifier("send-otp",{size:"invisible"})).then(e=>{o.confirm=e,t(()=>{o.otpsent=!0})})},o.phone=e.Auth.getUserDetails().phone,o.verify=function(){o.confirm.confirm(o.otp).then(t=>{e.Auth.verifyPhone()}).catch(e=>{o.verifyFailed=!0})}}angular.module("app").controller("phoneVerifyController",e),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t){let o=this;o.registerForm={username:"",occupation:"Student"},o.dropdownstatus={isopen:!1},o.occupations=["Student","Job-Seeker","Employed","Home-Maker"],o.checkPasswordMatch=function(e){o.registerForm.password==o.registerForm.passwordrepeat?e.passwordrepeat.$setValidity("mismatch",!0):e.passwordrepeat.$setValidity("mismatch",!1)},o.checkUniqueUsername=function(t){e.Auth.checkUniqueUsername(o.registerForm.username).then(e=>{t.username.$setValidity("unique",!1),console.log(e)}).catch(e=>{t.username.$setValidity("unique",!0)})},o.toggleDropdown=function(){o.dropdownstatus.isopen=!o.dropdownstatus.isopen},o.removeUniqueValidation=function(e,t){e[t].$setValidity("unique",!0)},o.submit=function(t,r){r&&e.Auth.register({username:o.registerForm.username,password:o.registerForm.password,email:o.registerForm.email,phone:o.registerForm.phone.split(" ").join(""),profession:o.registerForm.occupation}).then(e=>{-1!=e.data.msg.indexOf("error")&&-1!=e.data.msg.indexOf("E1100")&&t[e.data.msg.match("keyValue': {'([a-z]*)'")[1]].$setValidity("unique",!1)}).catch(e=>{console.log("regerr",e)})}}angular.module("app").controller("registerController",e),e.$inject=["$rootScope","$scope"]}(),function(){"use strict";function e(e){this.email=e.Auth.getUserDetails().email,e.Auth.sendVerificationEmail()}angular.module("app").controller("verifyEmailController",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t){let o=this;o.verifyFailed=!1,e.Auth.verifyEmail(t.params.code).then(e=>{}).catch(e=>{o.verifyFailed=!0})}angular.module("app").controller("verifyingEmailController",e),e.$inject=["$rootScope","$state"]}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"app/modules/footer/app-footer.html",replace:!0}}angular.module("app").directive("appFooter",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t,o){return{restrict:"E",templateUrl:"app/modules/header/app-header.html",controller:"headerController",controllerAs:"headerController",replace:!0}}angular.module("app").directive("appHeader",e),e.$inject=["$rootScope","$compile","$transitions"]}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"app/modules/sidebar/app-sidebar.html",replace:!0}}angular.module("app").directive("appSidebar",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{cardOptions:"=options",cardData:"=data",groupData:"=group"},templateUrl:"app/modules/client/cards/normal/card-base.html",controller:"cardBaseController",controllerAs:"cardBaseController",replace:!0}}angular.module("app").directive("cardBase",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{groupData:"=data"},templateUrl:"app/modules/client/cards/card-group.html",controller:"cardGroupController",controllerAs:"cardGroupController",replace:!0}}angular.module("app").directive("cardGroup",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-meeting.html",controller:"cardMeetingController",controllerAs:"cardMeetingController",replace:!0}}angular.module("app").directive("cardMeeting",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-refill.html",controller:"cardRefillController",controllerAs:"cardRefillController",replace:!0}}angular.module("app").directive("cardRefill",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-reminder.html",controller:"cardReminderController",controllerAs:"cardReminderController",replace:!0}}angular.module("app").directive("cardReminder",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-stock.html",controller:"cardStockController",controllerAs:"cardStockController",replace:!0}}angular.module("app").directive("cardStock",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-text.html",controller:"cardTextController",controllerAs:"cardTextController",replace:!0}}angular.module("app").directive("cardText",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{data:"=",groupInfo:"=group"},templateUrl:"app/modules/client/cards/normal/card-to-do-list.html",controller:"cardToDoListController",controllerAs:"cardToDoListController",replace:!0}}angular.module("app").directive("cardToDoList",e),e.$inject=["$rootScope","$compile"]}(),function(){"use strict";function e(e){return{restrict:"A",require:"?ngModel",link:function(t,o,r,a){function n(){let e=o.text();r.stripBr&&"<br>"==e&&(e=""),a.$setViewValue(e)}a&&r.contenteditable&&(a.$render=function(){o.html(e.getTrustedHtml(a.$viewValue||""))},o.on("keyup change",function(){t.$evalAsync(n)}),o.on("click",function(){o.attr("contenteditable","true")}),o.on("blur",function(){o.attr("contenteditable","false")}))}}}angular.module("app").directive("ngContenteditable",e),e.$inject=["$sce"]}(),function(){"use strict";function e(){return{restrict:"A",replace:!1,link:function(e,t,o){angular.element(t).inputSpinner()}}}angular.module("app").directive("ngNumberInput",e),e.$inject=["$rootScope","$compile"]}();